TODO: validate all incoming variables

TODO: consider making it a class or classes instead of functions. Benefits / drawbacks?

